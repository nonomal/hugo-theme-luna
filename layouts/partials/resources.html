{{- $svg_files := dict "error" "images/error.svg" "search" "images/search.svg" "outload" "images/outload.svg" -}}
{{- $theme := .Site.Params.themeColor -}}
{{- $public_cdn := cond .Site.IsServer "" .Site.Params.publicCDN -}}

{{- range $filename, $path := $svg_files -}}
    {{- $svg := (resources.Get $path).Content | string | replaceRE "{themeColor}" $theme | resources.FromString $path -}}
    {{- $.Store.Set (print "svg_" $filename) (print $public_cdn $svg.RelPermalink) -}}
{{- end -}}
